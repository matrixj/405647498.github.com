<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in css mode. -->
<html>
  <head>
    <title>cc-indent.org</title>
    <style type="text/css">
    <!--
      body {
        color: #F8F8F8;
        background-color: #0C1021;
      }
      .comment {
        /* font-lock-comment-face */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-block {
        /* org-block */
        color: #b3b3b3;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-document-info {
        /* org-document-info */
        color: #afeeee;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #b3b3b3;
      }
      .org-document-title {
        /* org-document-title */
        color: #afeeee;
        font-size: 144%;
        font-weight: bold;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #FF6400;
      }
      .org-level-2 {
        /* org-level-2 */
        color: #40E0D0;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #AEAEAE;
        font-style: italic;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="comment"># -*- coding:utf-8 -*-</span>
<span class="org-meta-line">#+LANGUAGE:  zh
</span><span class="org-document-info-keyword">#+TITLE:</span><span class="comment">     </span><span class="org-document-title">cc mode &#37324;&#20851;&#20110;indent(&#32553;&#36827;)&#30340;&#25511;&#21046;</span>
<span class="org-document-info-keyword">#+AUTHOR:</span><span class="comment">    </span><span class="org-document-info">&#32426;&#31168;&#23792;</span>
<span class="org-document-info-keyword">#+EMAIL:</span><span class="comment">     </span><span class="org-document-info">jixiuf@gmail.com</span>
<span class="org-document-info-keyword">#+DATE:</span><span class="comment">     </span><span class="org-document-info">2011-11-20 &#26085;</span>
<span class="org-meta-line">#+DESCRIPTION:cc mode &#37324;&#20851;&#20110;indent(&#32553;&#36827;)&#30340;&#25511;&#21046;
#+KEYWORDS: cc indent emacs
#+OPTIONS:   H:2 num:nil toc:t \n:t @:t ::t |:t ^:t -:t f:t *:t &lt;:t
#+OPTIONS:   TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil 
#+INFOJS_OPT: view:nil toc:nil ltoc:t mouse:underline buttons:0 path:http://orgmode.org/org-info.js
#+EXPORT_SELECT_TAGS: export
#+EXPORT_EXCLUDE_TAGS: noexport
#+FILETAGS: @Emacs
</span>
<span class="org-level-1">* `C-cC-s'  `C-uC-cC-s'  </span>
  &#26174;&#31034;&#24403;&#21069;&#34892;&#30340;indent&#20449;&#24687;
<span class="org-level-1">* indent &#23450;&#20301;&#20449;&#24687;  </span>
<span class="org-level-2">** (&#20989;&#25968;&#30456;&#20851;&#30340;&#23450;&#20301;)function related Symbols </span>
<span class="org-block-begin-line">#+begin_src c
</span><span class="org-block"> void                           /* ((topmost-intro 1)), top-level &#34920;&#36798;&#31034;&#30340;&#31532;&#19968;&#34892;, */
 swap( int&amp; a, int&amp; b )         /* ((topmost-intro-cont 2)) &#26159;topmost-intro &#30340;continuation(&#32487;&#32493;) */
 {                              /* ((defun-open 2)) &#20989;&#25968;&#23450;&#20041;&#30340;&#24320;&#22987;*/
     int tmp = a;               /* ((defun-block-intro 123)) ,&#20989;&#25968;&#20869;&#31532;&#19968;&#26465;&#35821;&#21477;*/
     a = b;                     /* ((statement 182)) &#26222;&#36890;&#30340;&#19968;&#26465;&#35821;&#21477;*/
     b = tmp;                   /* ((statement 246)) */
     int ignored =              /* ((statement 302)) */
             a + b;             /* ((statement-cont 358)) ,&#19978;&#19968;&#21477;&#19981;&#23436;&#25972;statement&#30340;&#32487;&#32493;*/
  }                             /* ((defun-close 123)) &#20989;&#25968;&#30340;&#32467;&#26463;*/
</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">** &#31867;&#30456;&#20851;&#30340;&#23450;&#20301; Class related Symbols</span>
<span class="org-block-begin-line">#+begin_src c++
</span><span class="org-block"> class Bass                     // ((topmost-intro 1))
   : public Guitar,           // ((inher-intro 2) inheritance(&#32487;&#25215;), &#32487;&#25215;&#35821;&#21477;&#30340;&#24320;&#22987;)
     public Amplifiable       // ((inher-cont 61) &#32487;&#25215;&#35821;&#21477;&#30340;continuation(&#32487;&#32493;) )
 {                              // ((class-open 2))
public:                        // ((inclass 163) (access-label 163)) ,&#21253;&#25324;&#20102;&#20004;&#20010;&#31867;&#22411;,inclass ,access-label&#35775;&#38382;&#25511;&#21046;&#31526;,&#20272;&#35745;&#26159;protect public&#20043;&#27969;
     Bass()                     // ((inclass 163) (topmost-intro 162))
         : eString( new BassString( 0.105 )), // ((member-init-intro 289)) &#31532;&#19968;&#20010;member
           aString( new BassString( 0.085 )), // ((member-init-cont 366)),member &#30340;&#32487;&#32493;
           dString( new BassString( 0.065 )), // ((member-init-cont 366))
           gString( new BassString( 0.045 ))  // ((member-init-cont 366))
     {                                        // ((inclass 163) (inline-open)) inline-open &#19982; defun-open&#30340;&#19981;&#21516;&#26159;,&#23427;&#26159;"&#31867;&#20013;&#20989;&#25968;" 
         eString.tune( 'E' );                 // ((defun-block-intro 657)) &#20989;&#25968;&#23450;&#20041;&#30340;&#31532;&#19968;&#21477;
         aString.tune( 'A' );                 // ((statement 740))
         dString.tune( 'D' );                 // ((statement 815))
         gString.tune( 'G' );                 // ((statement 882))
     }                                        // ((inline-close 657))
     friend class Luthier;                    // ((inclass 163) (topmost-intro 1007) (friend))
 };                                           // ((class-close 2))
</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">** Conditional Construct Symbols if else for&#23376;&#21477; </span>
<span class="org-block-begin-line">#+begin_src c++
</span><span class="org-block"> void spam( int index )         // ((topmost-intro 1))
 {                              // ((defun-open 2))
     for( int i=0; i&lt;index; i++ ) // ((defun-block-intro 57))
     {                                 // ((substatement-open 113)) &#20989;&#25968;&#20869;&#37096;&#30340;&#19968;&#20123;if for &#31561;&#35821;&#21477;&#30340;open 
       if( i == 10 )            // ((statement-block-intro 175)) &#20989;&#25968;&#20869;&#37096;&#30340;&#19968;&#20123;if for &#31561;&#35821;&#21477;&#30340;open &#31532;&#19968;&#26465;&#35821;&#21477;
             do_something_special(); // ((substatement 242))
         else                        // ((else-clause 242))
           silly_label:              // ((substatement-label 370)) 
             do_something( i );      // ((substatement 370))
     }                               // ((block-close 175))
     do {                            // ((statement 113))
         another_thing( i-- );       // ((statement-block-intro 614))
     }                               // ((block-close 614))
     while( i &gt; 0 );                 // ((do-while-closure 614))
 }                                   // ((defun-close 57))
</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">** switch case &#23376;&#21477;  </span>
<span class="org-block-begin-line">#+begin_src c++
</span><span class="org-block">void spam( enum Ingredient i )  // ((topmost-intro 1)) 
{                               // ((defun-open 1))
    switch                      // ((defun-block-intro 56))
    ( i ) {                     // ((statement-cont 112))
    case Ham:                   // ((case-label 112))           case &#35821;&#21477;
        be_a_pig();             // ((statement-case-intro 230)) case &#19979;&#31532;&#19968;&#26465;&#35821;&#21477;
        break;                  // ((statement 288))          
    case Salt:                  // ((case-label 112))
        drink_some_water();     // ((statement-case-intro 401))
        break;                  // ((statement 459))
    default:                    // ((case-label 112))
        {                       // ((statement-case-open 572))   case &#30340;open 
            what_is_it();       // ((statement-block-intro 630)) 
            break;              // ((statement 697))
        }                       // ((block-close 630))
    }                           // ((block-close 112))
}                               // ((defun-close 56))
</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">** })', `([ ])' and `(&lt; &gt;)', are treated as brace lists too.  An example:</span>
<span class="org-block-begin-line">#+begin_src c++
</span><span class="org-block">  static char* ingredients[] =   // ((topmost-intro 1))
 {                              // ((brace-list-open 2))
     "Ham",                     // ((brace-list-intro 57))
     "Salt",                    // ((brace-list-entry 118))
     NULL                       // ((brace-list-entry 118))
 };                             // ((brace-list-close 57))
</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">** &#25324;&#21495;&#21305;&#37197;,&#21442;&#25968;&#30456;&#20851; </span>
<span class="org-block-begin-line">#+begin_src c++
</span><span class="org-block">void a_function( int line1,     // ((topmost-intro 1))
                 int line2 );   // ((arglist-cont-nonempty 1 16)) &#34920;&#31034;&#36825;&#26159; (arglist-cont,&#24182;&#19988;noempty &#34920;&#31034;&#27492;&#34892;&#21253;&#21547; &#20102;&#21491;&#25324;&#21495;) 
                                // ((topmost-intro 56))
void a_longer_function(         // ((topmost-intro 56)) 
    int line1,                  // ((arglist-intro 178 200))        &#31532;&#19968;&#20010;&#21442;&#25968;
    int line2                   // ((arglist-cont 238)) &#21442;&#25968;&#30340;&#32487;&#32493;
    );                          // ((arglist-close 178 200))&#21442;&#25968;&#20851;&#38381;
void call_them( int line1, int line2 ) // ((topmost-intro 351))
 {                                     // ((defun-open 469))
     a_function(                       // ((defun-block-intro 534))
         line1,                        // ((arglist-intro 599 609))
         line2                         // ((arglist-cont 671))
         );                            // ((arglist-close 599 609))
                                // ((statement 599))
     a_longer_function( line1,  // ((statement 599))
                        line2 ); // ((arglist-cont-nonempty 919 936)) &#20989;&#25968; &#35843;&#29992;&#21442;&#25968;&#30456;&#20851;&#30340;,&#34920;&#31034;&#36825;&#26159;(arglist-cont, noempty &#34920;&#31034;&#27492;&#34892;&#21253;&#21547; &#20102;&#21491;&#25324;&#21495;) 
 }                               // ((defun-close 534))
</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">**  &#20854;&#20182;  </span>
<span class="org-block-begin-line">#+begin_src c++
</span><span class="org-block">void Bass::play( int volume )                                         // ((topmost-intro 1))
const                                                                 // ((func-decl-cont 1)) function&#22768;&#26126;&#33509;&#22810;&#34892;&#26102;,&#30340;&#32487;&#32493;
{                                                                     // ((defun-open 1))
  /*this line starts a multiline                                         ((defun-block-intro 112) (comment-intro)),&#27880;&#37322;&#30340;&#24320;&#22987;
     * comment.  This line should get `c' syntax */                   // ((c 196)) &#27880;&#37322;
    char* a_multiline_string = "This line starts a multiline \        // ((defun-block-intro 112)) 
string.  This line should get `string' syntax.";                      // ((string 395))       ,&#34920;&#31034;&#26159;&#19968;&#20010;string&#30340;&#31389;&#20869;
   note:                                                              // ((label 112))
     {                                                                // ((block-open) (statement 399))
 #ifdef LOCK                                                          // ((statement-block-intro 675) (cpp-macro))
         Lock acquire();                                              // ((statement-block-intro 675))
 #endif                                                               // ((statement 822) (cpp-macro))LOCK
         slap_pop();                                                  // ((statement 822))
         cout &lt;&lt; "I played "                                          // ((statement 956))
              &lt;&lt; "a note\n";                                          // ((stream-op 1009))
     }                                                                // ((block-close 675))
 }                                                                    // ((defun-close 112))
</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">** java &#30456;&#20851;   </span>
<span class="org-block-begin-line">#+begin_src java 
</span><span class="org-block"> @Test                          // ((topmost-intro 1))
 public void watch(Observable o) { // ((annotation-top-cont 2)) &#23545;method class&#36827;&#34892; annotation&#22768;&#26126;
     @NonNull                      // ((defun-block-intro 2))
         Observer obs = new Observer() { // ((annotation-var-cont 125))&#23545;&#21464;&#37327;&#36827;&#34892; annotation&#22768;&#26126; 
             public void update(Observable o, Object arg) { // ((inexpr-class&#20869;&#37096;&#31867;) (inclass 187) (topmost-intro 182)),&#23427;&#20855;&#26377;&#26222;&#36890;inclass&#30340;&#29305;&#24615;,&#21516;&#26102;&#26377;inexpr-class&#30340;&#29305;&#24615;
             history.addElement(arg);                   // ((defun-block-intro 259))
         }                                              // ((inline-close 259))
     };                                                 // ((inexpr-class) (class-close 187))
     o.addObserver(obs);                                // ((statement 125))
 }                                                      // ((defun-close 2))

</span><span class="org-block-end-line">#+end_src
</span><span class="org-level-2">** statement  </span>
<span class="org-block-begin-line">#+begin_src c++
</span><span class="org-block">int res = ({                    // ((topmost-intro 1))
    int y = foo (); int z;  // ((inexpr-statement) (statement-block-intro 1)) ,(inexpr-statement)&#34920;&#31034;&#23427;&#22788;&#20110;&#19968;&#20010;statement&#30340;&#20869;&#37096;&#30340;&#34920;&#36798;&#31034;
        if (y &gt; 0) z = y; else z = - y; // ((statement 64))
        z;                              // ((statement 146))
    });                                 // ((inexpr-statement) (block-close 1))
</span><span class="org-block-end-line">#+end_src
</span>
<span class="org-level-1">* c-offsets-alist</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">  (setq c-offsets-alist
        ' ((statement . 0)
           (statement-cont . 0)
           (substatement . +)
           (cpp-macro . [0])
           (topmost-intro-cont . c-lineup-topmost-intro-cont)
           (statement-block-intro . ++)
           (statement-block-intro . (add c-lineup-whitesmith-in-block
                                         c-indent-multi-line-block))
           ))
&#25110;&#32773;
&#21482;&#35774;&#26576;&#19968;&#20010;&#20540;
 (c-set-offset 'topmost-intro '+)

</span><span class="org-block-end-line">#+end_src  
</span><span class="org-level-1">* &#31034;&#20363;</span>
<span class="org-block-begin-line">  #+begin_src c
</span><span class="org-block">          1: int add( int val, int incr, int doit )
          2: {
          3:   if( doit )
          4:     {
          5:       return( val + incr );
          6:     }
          7:   return( val );
          8: }
    &#21464;&#25104;,
          1: int add( int val, int incr, int doit )
          2: {
          3:   if( doit )
          4:   {
          5:     return( val + incr );
          6:   }
          7:   return( val );
          8: }
      
</span><span class="org-block-end-line">  #+end_src
</span>  &#21306;&#21035;&#22312;&#31532;&#22235;&#34892;,&#20809;&#26631;&#31227;&#21160;&#21040;&#31532;4&#34892;,&#25353;&#19979;C-cC-s ,&#26174;&#31034;
  ((substatement-open 44))
  &#25152;&#20197;&#27492;&#34892;&#23545;&#24212;substatement-open
<span class="org-block-begin-line">  #+begin_src emacs-lisp
</span><span class="org-block">  (c-set-offset 'substatement-open 0) ;&#32553;&#36827;&#21464;&#25104;0 
</span><span class="org-block-end-line">  #+end_src
</span>  
<span class="org-level-1">* style</span>
<span class="org-block-begin-line">#+begin_src emacs-lisp
</span><span class="org-block">(defconst my-c-style
  '((c-tab-always-indent        . t)
    (c-comment-only-line-offset . 4)
    (c-hanging-braces-alist     . ((substatement-open after)
                                   (brace-list-open)))
    (c-hanging-colons-alist     . ((member-init-intro before)
                                   (inher-intro)
                                   (case-label after)
                                   (label after)
                                   (access-label after)))
    (c-cleanup-list             . (scope-operator
                                   empty-defun-braces
                                   defun-close-semi))
    (c-offsets-alist            . ((arglist-close . c-lineup-arglist)
                                   (substatement-open . 0)
                                   (case-label        . 4)
                                   (block-open        . 0)
                                   (knr-argdecl-intro . -)))
    (c-echo-syntactic-information-p . t))
  "My C Programming Style")
(c-add-style "PERSONAL" my-c-style)


(defun my-c-mode-common-hook ()
  ;; set my personal style for the current buffer
  (c-set-style "PERSONAL")
  ;; other customizations
  (setq tab-width 8
        ;; this will make sure spaces are used instead of tabs
        indent-tabs-mode nil)
  ;; we like auto-newline, but not hungry-delete
  (c-toggle-auto-newline 1))
(add-hook 'c-mode-common-hook 'my-c-mode-common-hook)

</span><span class="org-block-end-line">#+end_src
</span></pre>
  </body>
</html>
