<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in css mode. -->
<html>
  <head>
    <title>x86.org</title>
    <style type="text/css">
    <!--
      body {
        color: #F8F8F8;
        background-color: #0C1021;
      }
      .comment {
        /* font-lock-comment-face */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-block {
        /* org-block */
        color: #b3b3b3;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-document-info {
        /* org-document-info */
        color: #afeeee;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #b3b3b3;
      }
      .org-document-title {
        /* org-document-title */
        color: #afeeee;
        font-size: 144%;
        font-weight: bold;
      }
      .org-level-1 {
        /* org-level-1 */
        color: #FF6400;
      }
      .org-link {
        /* org-link */
        color: #00ffff;
        text-decoration: underline;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #AEAEAE;
        font-style: italic;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="comment"># -*- coding:utf-8 -*-</span>
<span class="org-meta-line">#+LANGUAGE:  zh
</span><span class="org-document-info-keyword">#+TITLE:</span><span class="comment">     </span><span class="org-document-title">x86.&#27719;&#32534;&#30340;&#19968;&#20123;&#30693;&#35782;</span>
<span class="org-document-info-keyword">#+AUTHOR:</span><span class="comment">    </span><span class="org-document-info">&#32426;&#31168;&#23792;</span>
<span class="org-document-info-keyword">#+EMAIL:</span><span class="comment">     </span><span class="org-document-info">jixiuf@gmail.com</span>
<span class="org-document-info-keyword">#+DATE:</span><span class="comment">     </span><span class="org-document-info">2012-04-21 &#20845;</span>
<span class="org-meta-line">#+DESCRIPTION:x86.&#27719;&#32534;&#30340;&#19968;&#20123;&#30693;&#35782;
#+KEYWORDS: x86 as c
#+OPTIONS:   H:2 num:nil toc:t \n:t @:t ::t |:t ^:nil -:t f:t *:t &lt;:t
#+OPTIONS:   TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil
#+FILETAGS: @C
</span>&#21442;&#32771; <span class="org-link">http://learn.akae.cn/media/ch18s01.html</span>
<span class="org-level-1">* &#23547;&#22336;&#26041;&#24335;</span>

&#36890;&#36807;&#19978;&#19968;&#33410;&#30340;&#20363;&#23376;&#25105;&#20204;&#20102;&#35299;&#21040;&#65292;&#35775;&#38382;&#20869;&#23384;&#26102;&#22312;&#25351;&#20196;&#20013;&#21487;&#20197;&#29992;&#22810;&#31181;&#26041;&#24335;&#34920;&#31034;&#20869;&#23384;&#22320;&#22336;&#65292;&#27604;&#22914;
&#21487;&#20197;&#29992;&#25968;&#32452;&#22522;&#22320;&#22336;&#12289;&#20803;&#32032;&#38271;&#24230;&#21644;&#19979;&#26631;&#19977;&#20010;&#37327;&#26469;&#34920;&#31034;&#65292;&#22686;&#21152;&#20102;&#23547;&#22336;&#30340;&#28789;&#27963;&#24615;&#12290;&#26412;&#33410;&#20171;&#32461;x86&#24120;
&#29992;&#30340;&#20960;&#31181;&#23547;&#22336;&#26041;&#24335;&#65288;Addressing Mode&#65289;&#12290;&#20869;&#23384;&#23547;&#22336;&#22312;&#25351;&#20196;&#20013;&#21487;&#20197;&#34920;&#31034;&#25104;&#22914;&#19979;&#30340;&#36890;&#29992;&#26684;&#24335;&#65306;
<span class="org-block-begin-line">#+BEGIN_SRC sh
</span><span class="org-block">ADDRESS_OR_OFFSET(%BASE_OR_OFFSET,%INDEX,MULTIPLIER)
</span><span class="org-block-end-line">#+END_SRC
</span>&#23427;&#25152;&#34920;&#31034;&#30340;&#22320;&#22336;&#21487;&#20197;&#36825;&#26679;&#35745;&#31639;&#20986;&#26469;&#65306;
<span class="org-block-begin-line">#+BEGIN_SRC sh
</span><span class="org-block">FINAL ADDRESS = ADDRESS_OR_OFFSET + BASE_OR_OFFSET + MULTIPLIER * INDEX
</span><span class="org-block-end-line">#+END_SRC
</span>&#20854;&#20013;ADDRESS_OR_OFFSET&#21644;MULTIPLIER&#24517;&#39035;&#26159;&#24120;&#25968;&#65292;BASE_OR_OFFSET&#21644;INDEX&#24517;&#39035;&#26159;&#23492;&#23384;&#22120;&#12290;
&#22312;&#26377;&#20123;&#23547;&#22336;&#26041;&#24335;&#20013;&#20250;&#30465;&#30053;&#36825;4&#39033;&#20013;&#30340;&#26576;&#20123;&#39033;&#65292;&#30456;&#24403;&#20110;&#36825;&#20123;&#39033;&#26159;0&#12290;

&#22914;
<span class="org-block-begin-line">#+BEGIN_SRC asm
</span><span class="org-block">data_items(,%edi,4)
</span><span class="org-block-end-line">#+END_SRC
</span>data_items&#26159;&#19968;&#20010;&#25968;&#32452; &#65292;
data_items&#34920;&#31034;&#25968;&#32452;&#30340;&#22522;&#22320;&#22336;ADDRESS_OR_OFFSET
%BASE_OR_OFFSET,&#31354;&#30528;&#20026;0
%edi&#23492;&#23384;&#22120;&#20013;&#23384;&#30528;&#25968;&#32452;&#30340;&#24403;&#21069;&#32034;&#24341;&#20301;&#32622;&#65292;
&#25968;&#32452;&#27599;&#20010;&#20803;&#32032;&#22823;&#23567;&#20026;4,MULTIPLIER &#34920;&#31034;&#27599;&#20010;&#25968;&#32452;&#20803;&#32032;&#21344;&#29992;&#30340;&#23383;&#33410;&#22823;&#23567;&#65288;&#21487;&#33021;&#21333;&#20301;&#19981;&#26159;&#23383;&#33410;&#65289;


    + &#30452;&#25509;&#23547;&#22336;&#65288;Direct Addressing Mode&#65289;&#12290;&#21482;&#20351;&#29992;ADDRESS_OR_OFFSET&#23547;&#22336;&#65292;&#20363;&#22914;movl ADDRESS, %eax&#25226;ADDRESS&#22320;&#22336;&#22788;&#30340;32&#20301;&#25968;&#20256;&#36865;&#21040;eax&#23492;&#23384;&#22120;&#12290;
    + &#21464;&#22336;&#23547;&#22336;&#65288;Indexed Addressing Mode&#65289; &#12290;&#19978;&#19968;&#33410;&#30340;movl data_items(,%edi,4), %eax&#23601;&#23646;&#20110;&#36825;&#31181;&#23547;&#22336;&#26041;&#24335;&#65292;&#29992;&#20110;&#35775;&#38382;&#25968;&#32452;&#20803;&#32032;&#27604;&#36739;&#26041;&#20415;&#12290;
    + &#38388;&#25509;&#23547;&#22336;&#65288;Indirect Addressing Mode&#65289;&#12290;&#21482;&#20351;&#29992;BASE_OR_OFFSET&#23547;&#22336;&#65292;&#20363;&#22914;movl (%eax), %ebx&#65292;&#25226;eax&#23492;&#23384;&#22120;&#30340;&#20540;&#30475;&#20316;&#22320;&#22336;&#65292;&#25226;&#20869;&#23384;&#20013;&#36825;&#20010;&#22320;&#22336;&#22788;&#30340;32&#20301;&#25968;&#20256;&#36865;&#21040;ebx&#23492;&#23384;&#22120;&#12290;&#27880;&#24847;&#21644;movl %eax, %ebx&#21306;&#20998;&#24320;&#12290;
    + &#22522;&#22336;&#23547;&#22336;&#65288;Base Pointer Addressing Mode&#65289;&#12290;&#21482;&#20351;&#29992;ADDRESS_OR_OFFSET&#21644;BASE_OR_OFFSET&#23547;&#22336;&#65292;&#20363;&#22914;movl 4(%eax), %ebx&#65292;&#29992;&#20110;&#35775;&#38382;&#32467;&#26500;&#20307;&#25104;&#21592;&#27604;&#36739;&#26041;&#20415;&#65292;&#20363;&#22914;&#19968;&#20010;&#32467;&#26500;&#20307;&#30340;&#22522;&#22320;&#22336;&#20445;&#23384;&#22312;eax&#23492;&#23384;&#22120;&#20013;&#65292;&#20854;&#20013;&#19968;&#20010;&#25104;&#21592;&#22312;&#32467;&#26500;&#20307;&#20869;&#30340;&#20559;&#31227;&#37327;&#26159;4&#23383;&#33410;&#65292;&#35201;&#25226;&#36825;&#20010;&#25104;&#21592;&#35835;&#19978;&#26469;&#23601;&#21487;&#20197;&#29992;&#36825;&#26465;&#25351;&#20196;&#12290;
    + &#31435;&#21363;&#25968;&#23547;&#22336;&#65288;Immediate Mode&#65289;&#12290;&#23601;&#26159;&#25351;&#20196;&#20013;&#26377;&#19968;&#20010;&#25805;&#20316;&#25968;&#26159;&#31435;&#21363;&#25968;&#65292;&#20363;&#22914;movl $12, %eax&#20013;&#30340;$12&#65292;&#36825;&#20854;&#23454;&#36319;&#23547;&#22336;&#27809;&#20160;&#20040;&#20851;&#31995;&#65292;&#20294;&#20063;&#31639;&#20316;&#19968;&#31181;&#23547;&#22336;&#26041;&#24335;&#12290;
    + &#23492;&#23384;&#22120;&#23547;&#22336;&#65288;Register Addressing Mode&#65289;&#12290;&#23601;&#26159;&#25351;&#20196;&#20013;&#26377;&#19968;&#20010;&#25805;&#20316;&#25968;&#26159;&#23492;&#23384;&#22120;&#65292;&#20363;&#22914;movl $12, %eax&#20013;&#30340;%eax&#65292;&#36825;&#36319;&#20869;&#23384;&#23547;&#22336;&#27809;&#20160;&#20040;&#20851;&#31995;&#65292;&#20294;&#20063;&#31639;&#20316;&#19968;&#31181;&#23547;&#22336;&#26041;&#24335;&#12290;&#22312;&#27719;&#32534;&#31243;&#24207;&#20013;&#23492;&#23384;&#22120;&#29992;&#21161;&#35760;&#31526;&#26469;&#34920;&#31034;&#65292;&#22312;&#26426;&#22120;&#25351;&#20196;&#20013;&#21017;&#35201;&#29992;&#20960;&#20010;Bit&#34920;&#31034;&#23492;&#23384;&#22120;&#30340;&#32534;&#21495;&#65292;&#36825;&#20960;&#20010;Bit&#20063;&#21487;&#20197;&#30475;&#20316;&#23492;&#23384;&#22120;&#30340;&#22320;&#22336;&#65292;&#20294;&#26159;&#21644;&#20869;&#23384;&#22320;&#22336;&#19981;&#22312;&#19968;&#20010;&#22320;&#22336;&#31354;&#38388;&#12290;
<span class="org-level-1">* &#20195;&#30721;&#31034;&#20363;</span>
<span class="org-block-begin-line">#+BEGIN_SRC asm
</span><span class="org-block">      #PURPOSE: This program finds the maximum number of a
      #     set of data items.
      #
      #VARIABLES: The registers have the following uses:
      #
      # %edi - Holds the index of the data item being examined
      # %ebx - Largest data item found
      # %eax - Current data item
      #
      # The following memory locations are used:
      #
      # data_items - contains the item data. A 0 is used
      # to terminate the data
      #
       .section .data
      data_items:         #These are the data items
       .long 3,67,34,222,45,75,54,34,44,33,22,11,66,0

       .section .text
       .globl _start
      _start:
       movl $0, %edi      # move 0 into the index register
       movl data_items(,%edi,4), %eax # load the first byte of data
       movl %eax, %ebx    # since this is the first item, %eax is
                  # the biggest

      start_loop:         # start loop
       cmpl $0, %eax      # check to see if we've hit the end
       je loop_exit
       incl %edi      # load next value
       movl data_items(,%edi,4), %eax
       cmpl %ebx, %eax    # compare values
       jle start_loop     # jump to loop beginning if the new
                  # one isn't bigger
       movl %eax, %ebx    # move the value as the largest
       jmp start_loop     # jump to loop beginning

      loop_exit:
       # %ebx is the status code for the _exit system call
       # and it already has the maximum number
       movl $1, %eax      #1 is the _exit() syscall
       int $0x80
</span><span class="org-block-end-line">#+END_SRC
</span><span class="org-block-begin-line">#+BEGIN_SRC sh
</span><span class="org-block">&#27719;&#32534;&#12289;&#38142;&#25509;&#12289;&#36816;&#34892;
$ as max.s -o max.o
$ ld max.o -o max
$ ./max
$ echo $? # shell&#20013;&#26597;&#30475;&#19978;&#19968;&#20010;&#31243;&#24207;&#30340;&#36820;&#22238;&#29366;&#24577;
&#36825;&#20010;&#31243;&#24207;&#22312;&#19968;&#32452;&#25968;&#20013;&#25214;&#21040;&#19968;&#20010;&#26368;&#22823;&#30340;&#25968;&#65292;&#24182;&#25226;&#23427;&#20316;&#20026;&#31243;&#24207;&#30340;&#36864;&#20986;&#29366;&#24577;&#12290;&#36825;&#32452;&#25968;&#22312;.data&#27573;&#32473;&#20986;&#65306;
</span><span class="org-block-end-line">#+END_SRC
</span><span class="org-block-begin-line">#+BEGIN_QUOTE
</span>data_items:         #These are the data items
 .long 3,67,34,222,45,75,54,34,44,33,22,11,66,0<span class="org-meta-line">
</span><span class="org-block-end-line">#+END_QUOTE
</span>.long&#25351;&#31034;&#22768;&#26126;&#19968;&#32452;&#25968;&#65292;&#27599;&#20010;&#25968;&#21344;32&#20301;&#65292;&#30456;&#24403;&#20110;C&#35821;&#35328;&#20013;&#30340;&#25968;&#32452;&#12290;&#36825;&#20010;&#25968;&#32452;&#24320;&#22836;&#23450;&#20041;&#20102;&#19968;&#20010;
&#31526;&#21495;data_items&#65292;&#27719;&#32534;&#22120;&#20250;&#25226;&#25968;&#32452;&#30340;&#39318;&#22320;&#22336;&#20316;&#20026;data_items&#31526;&#21495;&#25152;&#20195;&#34920;&#30340;&#22320;&#22336;&#65292;
data_items&#31867;&#20284;&#20110;C&#35821;&#35328;&#20013;&#30340;&#25968;&#32452;&#21517;&#12290;data_items&#36825;&#20010;&#26631;&#21495;&#27809;&#26377;&#29992;.globl&#22768;&#26126;&#65292;&#22240;&#20026;&#23427;&#21482;&#22312;
&#36825;&#20010;&#27719;&#32534;&#31243;&#24207;&#20869;&#37096;&#20351;&#29992;&#65292;&#38142;&#25509;&#22120;&#19981;&#38656;&#35201;&#29992;&#21040;&#36825;&#20010;&#21517;&#23383;&#12290;

&#38500;&#20102;.long&#20043;&#22806;&#65292;&#24120;&#29992;&#30340;&#25968;&#25454;&#22768;&#26126;&#36824;&#26377;&#65306;
    + .byte&#65292;&#20063;&#26159;&#22768;&#26126;&#19968;&#32452;&#25968;&#65292;&#27599;&#20010;&#25968;&#21344;8&#20301;
    + .ascii&#65292;&#20363;&#22914;.ascii "Hello world"&#65292;&#22768;&#26126;11&#20010;&#25968;&#65292;&#21462;&#20540;&#20026;&#30456;&#24212;&#23383;&#31526;&#30340;ASCII&#30721;&#12290;&#27880;
      &#24847;&#65292;&#21644;C&#35821;&#35328;&#19981;&#21516;&#65292;&#36825;&#26679;&#22768;&#26126;&#30340;&#23383;&#31526;&#20018;&#26411;&#23614;&#26159;&#27809;&#26377;'\0'&#23383;&#31526;&#30340;&#65292;&#22914;&#26524;&#38656;&#35201;&#20197;'\0'&#32467;&#23614;
      &#21487;&#20197;&#22768;&#26126;&#20026;.ascii "Hello world\0"&#12290;

data_items&#25968;&#32452;&#30340;&#26368;&#21518;&#19968;&#20010;&#25968;&#26159;0&#65292;&#25105;&#20204;&#22312;&#19968;&#20010;&#24490;&#29615;&#20013;&#20381;&#27425;&#27604;&#36739;&#27599;&#20010;&#25968;&#65292;&#30896;&#21040;0&#30340;&#26102;&#20505;&#35753;&#24490;&#29615;&#32456;&#27490;&#12290;&#22312;&#36825;&#20010;&#24490;&#29615;&#20013;&#65306;
    edi&#23492;&#23384;&#22120;&#20445;&#23384;&#25968;&#32452;&#20013;&#30340;&#24403;&#21069;&#20301;&#32622;&#65292;&#27599;&#27425;&#27604;&#36739;&#23436;&#19968;&#20010;&#25968;&#23601;&#25226;edi&#30340;&#20540;&#21152;1&#65292;&#25351;&#21521;&#25968;&#32452;&#20013;&#30340;&#19979;&#19968;&#20010;&#25968;&#12290;
    ebx&#23492;&#23384;&#22120;&#20445;&#23384;&#21040;&#30446;&#21069;&#20026;&#27490;&#25214;&#21040;&#30340;&#26368;&#22823;&#20540;&#65292;&#22914;&#26524;&#21457;&#29616;&#26377;&#26356;&#22823;&#30340;&#25968;&#23601;&#26356;&#26032;ebx&#30340;&#20540;&#12290;
    eax&#23492;&#23384;&#22120;&#20445;&#23384;&#24403;&#21069;&#35201;&#27604;&#36739;&#30340;&#25968;&#65292;&#27599;&#27425;&#26356;&#26032;edi&#20043;&#21518;&#65292;&#23601;&#25226;&#19979;&#19968;&#20010;&#25968;&#35835;&#21040;eax&#20013;&#12290;
<span class="org-block-begin-line">    #+BEGIN_SRC asm
</span><span class="org-block">     _start:
      movl $0, %edi                        #    &#21021;&#22987;&#21270;edi&#65292;&#25351;&#21521;&#25968;&#32452;&#30340;&#31532;0&#20010;&#20803;&#32032;
      movl data_items(,%edi,4), %eax
</span><span class="org-block-end-line">    #+END_SRC
</span>&#36825;&#26465;&#25351;&#20196;&#25226;&#25968;&#32452;&#30340;&#31532;0&#20010;&#20803;&#32032;&#20256;&#36865;&#21040;eax&#23492;&#23384;&#22120;&#20013;&#12290;data_items&#26159;&#25968;&#32452;&#30340;&#39318;&#22320;&#22336;&#65292;edi&#30340;&#20540;&#26159;
&#25968;&#32452;&#30340;&#19979;&#26631;&#65292;4&#34920;&#31034;&#25968;&#32452;&#30340;&#27599;&#20010;&#20803;&#32032;&#21344;4&#23383;&#33410;&#65292;&#37027;&#20040;&#25968;&#32452;&#20013;&#31532;edi&#20010;&#20803;&#32032;&#30340;&#22320;&#22336;&#24212;&#35813;&#26159;
data_items + edi * 4&#65292;&#20889;&#22312;&#25351;&#20196;&#20013;&#23601;&#26159;data_items(,%edi,4)&#65292;


<span class="org-block-begin-line">#+BEGIN_SRC asm
</span><span class="org-block">start_loop:
 cmpl $0, %eax
 je loop_exit
</span><span class="org-block-end-line">#+END_SRC
</span>&#22312;&#24490;&#29615;&#20013;&#27604;&#36739;%eax&#20013;&#30340;&#20540;&#26159;&#19981;&#26159;0

cmpl&#25351;&#20196;&#23558;&#20004;&#20010;&#25805;&#20316;&#25968;&#30456;&#20943;&#65292;&#20294;&#35745;&#31639;&#32467;&#26524;&#24182;&#19981;&#20445;&#23384;&#65292;&#21482;&#26159;&#26681;&#25454;&#35745;&#31639;&#32467;&#26524;&#25913;&#21464;eflags&#23492;&#23384;&#22120;
&#20013;&#30340;&#26631;&#24535;&#20301;&#12290;&#22914;&#26524;&#20004;&#20010;&#25805;&#20316;&#25968;&#30456;&#31561;&#65292;&#21017;&#35745;&#31639;&#32467;&#26524;&#20026;0&#65292;eflags&#20013;&#30340;ZF&#20301;&#32622;1&#12290;je&#26159;&#19968;&#20010;&#26465;&#20214;
&#36339;&#36716;&#25351;&#20196;&#65292;&#23427;&#26816;&#26597;eflags&#20013;&#30340;ZF&#20301;&#65292;ZF&#20301;&#20026;1&#21017;&#21457;&#29983;&#36339;&#36716;&#65292;ZF&#20301;&#20026;0&#21017;&#19981;&#36339;&#36716;&#65292;&#32487;&#32493;&#25191;&#34892;&#19979;
&#19968;&#26465;&#25351;&#20196;&#12290;&#21487;&#35265;&#27604;&#36739;&#25351;&#20196;&#21644;&#26465;&#20214;&#36339;&#36716;&#25351;&#20196;&#26159;&#37197;&#21512;&#20351;&#29992;&#30340;&#65292;&#21069;&#32773;&#25913;&#21464;&#26631;&#24535;&#20301;&#65292;&#21518;&#32773;&#26681;&#25454;&#26631;&#24535;
&#20301;&#20915;&#23450;&#26159;&#21542;&#36339;&#36716;&#12290;je&#21487;&#20197;&#29702;&#35299;&#25104;&#8220;jump if equal&#8221;&#65292;&#22914;&#26524;&#21442;&#19982;&#27604;&#36739;&#30340;&#20004;&#25968;&#30456;&#31561;&#21017;&#36339;&#36716;&#12290;

<span class="org-block-begin-line">#+BEGIN_SRC asm
</span><span class="org-block"> incl %edi
 movl data_items(,%edi,4), %eax
 &#23558;edi&#30340;&#20540;&#21152;1&#65292;&#25226;&#25968;&#32452;&#20013;&#30340;&#19979;&#19968;&#20010;&#25968;&#20256;&#36865;&#21040;eax&#23492;&#23384;&#22120;&#20013;&#12290;
</span><span class="org-block-end-line">#+END_SRC
</span><span class="org-block-begin-line">#+BEGIN_SRC asm
</span><span class="org-block"> cmpl %ebx, %eax
 jle start_loop
</span><span class="org-block-end-line">#+END_SRC
</span>&#25226;&#24403;&#21069;&#25968;&#32452;&#20803;&#32032;eax&#21644;&#30446;&#21069;&#20026;&#27490;&#25214;&#21040;&#30340;&#26368;&#22823;&#20540;ebx&#20570;&#27604;&#36739;&#65292;&#22914;&#26524;&#21069;&#32773;&#23567;&#20110;&#31561;&#20110;&#21518;&#32773;&#65292;&#21017;&#26368;&#22823;
&#20540;&#27809;&#26377;&#21464;&#65292;&#36339;&#36716;&#21040;&#24490;&#29615;&#24320;&#22836;&#27604;&#36739;&#19979;&#19968;&#20010;&#25968;&#65292;&#21542;&#21017;&#32487;&#32493;&#25191;&#34892;&#19979;&#19968;&#26465;&#25351;&#20196;&#12290;jle&#34920;&#31034;&#8220;jump if
less than or equal&#8221;&#12290;
<span class="org-level-1">* x86&#23492;&#23384;&#22120;</span>
x86&#30340;&#36890;&#29992;&#23492;&#23384;&#22120;&#26377;eax&#12289;ebx&#12289;ecx&#12289;edx&#12289;edi&#12289;esi&#12290;&#36825;&#20123;&#23492;&#23384;&#22120;&#22312;&#22823;&#22810;&#25968;&#25351;&#20196;&#20013;&#26159;&#21487;&#20197;&#20219;
&#24847;&#36873;&#29992;&#30340;&#65292;&#27604;&#22914;movl&#25351;&#20196;&#21487;&#20197;&#25226;&#19968;&#20010;&#31435;&#21363;&#25968;&#20256;&#36865;&#21040;eax&#20013;&#65292;&#20063;&#21487;&#20256;&#36865;&#21040;ebx&#20013;&#12290;&#20294;&#20063;&#26377;&#19968;&#20123;
&#25351;&#20196;&#35268;&#23450;&#21482;&#33021;&#29992;&#20854;&#20013;&#26576;&#20010;&#23492;&#23384;&#22120;&#20570;&#26576;&#31181;&#29992;&#36884;&#65292;&#20363;&#22914;&#38500;&#27861;&#25351;&#20196;idivl&#35201;&#27714;&#34987;&#38500;&#25968;&#22312;eax&#23492;&#23384;&#22120;
&#20013;&#65292;edx&#23492;&#23384;&#22120;&#24517;&#39035;&#26159;0&#65292;&#32780;&#38500;&#25968;&#21487;&#20197;&#22312;&#20219;&#24847;&#23492;&#23384;&#22120;&#20013;&#65292;&#35745;&#31639;&#32467;&#26524;&#30340;&#21830;&#25968;&#20445;&#23384;&#22312;eax&#23492;&#23384;&#22120;&#20013;
&#65288;&#35206;&#30422;&#21407;&#26469;&#30340;&#34987;&#38500;&#25968;&#65289;&#65292;&#20313;&#25968;&#20445;&#23384;&#22312;edx&#23492;&#23384;&#22120;&#20013;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#36890;&#29992;&#23492;&#23384;&#22120;&#23545;&#20110;&#26576;&#20123;&#29305;&#27530;&#25351;
&#20196;&#26469;&#35828;&#20063;&#19981;&#26159;&#36890;&#29992;&#30340;&#12290;

x86&#30340;&#29305;&#27530;&#23492;&#23384;&#22120;&#26377;ebp&#12289;esp&#12289;eip&#12289;eflags&#12290;eip&#26159;&#31243;&#24207;&#35745;&#25968;&#22120;&#65292;eflags&#20445;&#23384;&#30528;&#35745;&#31639;&#36807;&#31243;&#20013;
&#20135;&#29983;&#30340;&#26631;&#24535;&#20301;&#65292;&#20854;&#20013;&#21253;&#25324;&#31532; 3 &#33410; &#8220;&#25972;&#25968;&#30340;&#21152;&#20943;&#36816;&#31639;&#8221;&#35762;&#36807;&#30340;&#36827;&#20301;&#26631;&#24535;&#12289;&#28322;&#20986;&#26631;&#24535;&#12289;&#38646;&#26631;
&#24535;&#21644;&#36127;&#25968;&#26631;&#24535;&#65292;&#22312;intel&#30340;&#25163;&#20876;&#20013;&#36825;&#20960;&#20010;&#26631;&#24535;&#20301;&#20998;&#21035;&#31216;&#20026;CF&#12289;OF&#12289;ZF&#12289;SF&#12290;ebp&#21644;esp&#29992;&#20110;&#32500;
&#25252;&#20989;&#25968;&#35843;&#29992;&#30340;&#26632;&#24103;&#65292;&#22312;&#31532; 1 &#33410; &#8220;&#20989;&#25968;&#35843;&#29992;&#8221;&#35814;&#32454;&#35752;&#35770;&#12290;
</pre>
  </body>
</html>
