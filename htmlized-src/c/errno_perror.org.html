<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in css mode. -->
<html>
  <head>
    <title>errno_perror.org</title>
    <style type="text/css">
    <!--
      body {
        color: #F8F8F8;
        background-color: #0C1021;
      }
      .comment {
        /* font-lock-comment-face */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-block {
        /* org-block */
        color: #b3b3b3;
      }
      .org-block-begin-line {
        /* org-block-begin-line */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-block-end-line {
        /* org-block-end-line */
        color: #AEAEAE;
        font-style: italic;
      }
      .org-document-info {
        /* org-document-info */
        color: #afeeee;
      }
      .org-document-info-keyword {
        /* org-document-info-keyword */
        color: #b3b3b3;
      }
      .org-document-title {
        /* org-document-title */
        color: #afeeee;
        font-size: 144%;
        font-weight: bold;
      }
      .org-meta-line {
        /* org-meta-line */
        color: #AEAEAE;
        font-style: italic;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="comment"># -*- coding:utf-8 -*-</span>
<span class="org-meta-line">#+LANGUAGE:  zh
</span><span class="org-document-info-keyword">#+TITLE:</span><span class="comment">     </span><span class="org-document-title">errno_perror.org</span>
<span class="org-document-info-keyword">#+AUTHOR:</span><span class="comment">    </span><span class="org-document-info">&#32426;&#31168;&#23792;</span>
<span class="org-document-info-keyword">#+EMAIL:</span><span class="comment">     </span><span class="org-document-info">jixiuf@gmail.com</span>
<span class="org-document-info-keyword">#+DATE:</span><span class="comment">     </span><span class="org-document-info">2012-04-23 &#19968;</span>
<span class="org-meta-line">#+DESCRIPTION:errno_perror.org
#+KEYWORDS: C
#+OPTIONS:   H:2 num:nil toc:t \n:t @:t ::t |:t ^:nil -:t f:t *:t &lt;:t
#+OPTIONS:   TeX:t LaTeX:t skip:nil d:nil todo:t pri:nil
#+FILETAGS: @C
</span>&#24456;&#22810;&#31995;&#32479;&#20989;&#25968;&#22312;&#38169;&#35823;&#36820;&#22238;&#26102;&#23558;&#38169;&#35823;&#21407;&#22240;&#35760;&#24405;&#22312;libc&#23450;&#20041;&#30340;&#20840;&#23616;&#21464;&#37327;errno&#20013;&#65292;&#27599;&#31181;&#38169;&#35823;&#21407;&#22240;
&#23545;&#24212;&#19968;&#20010;&#38169;&#35823;&#30721;&#65292;&#35831;&#26597;&#38405;errno(3)&#30340;Man Page&#20102;&#35299;&#21508;&#31181;&#38169;&#35823;&#30721;&#65292;errno&#22312;&#22836;&#25991;&#20214;errno.h&#20013;
&#22768;&#26126;&#65292;&#26159;&#19968;&#20010;&#25972;&#22411;&#21464;&#37327;&#65292;&#25152;&#26377;&#38169;&#35823;&#30721;&#37117;&#26159;&#27491;&#25972;&#25968;&#12290;

&#22914;&#26524;&#22312;&#31243;&#24207;&#20013;&#25171;&#21360;&#38169;&#35823;&#20449;&#24687;&#26102;&#30452;&#25509;&#25171;&#21360;errno&#21464;&#37327;&#65292;&#25171;&#21360;&#20986;&#26469;&#30340;&#21482;&#26159;&#19968;&#20010;&#25972;&#25968;&#20540;&#65292;&#20173;&#28982;&#30475;&#19981;
&#20986;&#26159;&#20160;&#20040;&#38169;&#35823;&#12290;&#27604;&#36739;&#22909;&#30340;&#21150;&#27861;&#26159;&#29992;perror&#25110;strerror&#20989;&#25968;&#23558;errno&#35299;&#37322;&#25104;&#23383;&#31526;&#20018;&#20877;&#25171;&#21360;&#12290;
<span class="org-block-begin-line">#+BEGIN_SRC c
</span><span class="org-block">#include &lt;stdio.h&gt;
void perror(const char *s);
</span><span class="org-block-end-line">#+END_SRC
</span>perror&#20989;&#25968;&#23558;&#38169;&#35823;&#20449;&#24687;&#25171;&#21360;&#21040;&#26631;&#20934;&#38169;&#35823;&#36755;&#20986;&#65292;&#39318;&#20808;&#25171;&#21360;&#21442;&#25968;s&#25152;&#25351;&#30340;&#23383;&#31526;&#20018;&#65292;&#28982;&#21518;&#25171;&#21360;:&#21495;&#65292;
&#28982;&#21518;&#26681;&#25454;&#24403;&#21069;errno&#30340;&#20540;&#25171;&#21360;&#38169;&#35823;&#21407;&#22240;&#12290;&#20363;&#22914;&#65306;
<span class="org-block-begin-line">#+BEGIN_SRC c
</span><span class="org-block">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(void)
{
    FILE *fp = fopen("abcde", "r");
    if (fp == NULL) {
        perror("Open file abcde");
        exit(1);
    }
    return 0;
}
</span><span class="org-block-end-line">#+END_SRC
</span>&#22914;&#26524;&#25991;&#20214;abcde&#19981;&#23384;&#22312;&#65292;fopen&#36820;&#22238;-1&#24182;&#35774;&#32622;errno&#20026;ENOENT&#65292;&#32039;&#25509;&#30528;perror&#20989;&#25968;&#35835;&#21462;errno
&#30340;&#20540;&#65292;&#23558;ENOENT&#35299;&#37322;&#25104;&#23383;&#31526;&#20018;No such file or directory&#24182;&#25171;&#21360;&#65292;&#26368;&#21518;&#25171;&#21360;&#30340;&#32467;&#26524;&#26159;
Open file abcde: No such file or directory&#12290;&#34429;&#28982;perror&#21487;&#20197;&#25171;&#21360;&#20986;&#38169;&#35823;&#21407;&#22240;&#65292;&#20256;&#32473;
perror&#30340;&#23383;&#31526;&#20018;&#21442;&#25968;&#20173;&#28982;&#24212;&#35813;&#25552;&#20379;&#19968;&#20123;&#39069;&#22806;&#30340;&#20449;&#24687;&#65292;&#20197;&#20415;&#22312;&#30475;&#21040;&#38169;&#35823;&#20449;&#24687;&#26102;&#33021;&#22815;&#24456;&#24555;&#23450;&#20301;
&#26159;&#31243;&#24207;&#20013;&#21738;&#37324;&#20986;&#20102;&#38169;&#65292;&#22914;&#26524;&#22312;&#31243;&#24207;&#20013;&#26377;&#24456;&#22810;&#20010;fopen&#35843;&#29992;&#65292;&#27599;&#20010;fopen&#25171;&#24320;&#19981;&#21516;&#30340;&#25991;&#20214;&#65292;&#37027;
&#20040;&#22312;&#27599;&#20010;fopen&#30340;&#38169;&#35823;&#22788;&#29702;&#20013;&#25171;&#21360;&#25991;&#20214;&#21517;&#23601;&#24456;&#26377;&#24110;&#21161;&#12290;

errno&#26159;&#19968;&#20010;&#20840;&#23616;&#21464;&#37327;&#65292;&#24456;&#22810;&#31995;&#32479;&#20989;&#25968;&#37117;&#20250;&#25913;&#21464;&#23427;&#65292;fopen&#20989;&#25968;Man Page&#20013;&#30340;ERRORS&#37096;&#20998;&#25551;
&#36848;&#20102;&#23427;&#21487;&#33021;&#20135;&#29983;&#30340;&#38169;&#35823;&#30721;&#65292;perror&#20989;&#25968;&#30340;Man Page&#20013;&#27809;&#26377;ERRORS&#37096;&#20998;&#65292;&#35828;&#26126;&#23427;&#26412;&#36523;&#19981;&#20135;&#29983;
&#38169;&#35823;&#30721;&#65292;&#20294;&#23427;&#35843;&#29992;&#30340;&#20854;&#23427;&#20989;&#25968;&#20063;&#26377;&#21487;&#33021;&#25913;&#21464;errno&#21464;&#37327;&#12290;&#22823;&#22810;&#25968;&#31995;&#32479;&#20989;&#25968;&#37117;&#26377;&#19968;&#20010;Side
Effect&#65292;&#23601;&#26159;&#26377;&#21487;&#33021;&#25913;&#21464;errno&#21464;&#37327;&#65288;&#24403;&#28982;&#20063;&#26377;&#23569;&#25968;&#20363;&#22806;&#65292;&#27604;&#22914;strcpy&#65289;&#65292;&#25152;&#20197;&#19968;&#20010;&#31995;&#32479;&#20989;
&#25968;&#38169;&#35823;&#36820;&#22238;&#21518;&#24212;&#35813;&#39532;&#19978;&#26816;&#26597;errno&#65292;&#22312;&#26816;&#26597;errno&#20043;&#21069;&#19981;&#33021;&#20877;&#35843;&#29992;&#20854;&#23427;&#31995;&#32479;&#20989;&#25968;&#12290;
<span class="org-block-begin-line">#+BEGIN_SRC c
</span><span class="org-block">#include &lt;string.h&gt;

char *strerror(int errnum);
&#36820;&#22238;&#20540;&#65306;&#38169;&#35823;&#30721;errnum&#25152;&#23545;&#24212;&#30340;&#23383;&#31526;&#20018;
</span><span class="org-block-end-line">#+END_SRC
</span></pre>
  </body>
</html>
